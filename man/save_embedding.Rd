% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/16_llm_module_embedding_database.R
\name{save_embedding}
\alias{save_embedding}
\title{Save Embedding Data}
\usage{
save_embedding(
  embedding_df,
  embedding_output_dir = "embedding_output",
  save_dir = "local"
)
}
\arguments{
\item{embedding_df}{A data frame with three columns: \code{paper_title}, \code{chunk}, and \code{embedding_vector}.
\code{embedding_vector} should be a list of numeric vectors.}

\item{embedding_output_dir}{A character string specifying the path to the directory where all the intermediate embedding results to be saved.
Defaults is "embedding_output".}

\item{save_dir}{A character string specifying the directory where the embedding data will be saved.
Defaults to "local".}
}
\value{
Nothing. The function saves the data to files in the specified directory.
}
\description{
Saves embedding data (including titles, chunks, and embedding vectors) to a specified directory.
}
\details{
This function performs the following:
\itemize{
\item Cleans the \code{paper_title} and \code{chunks} by removing extra spaces, line breaks, and tabs.
\item Writes the titles and chunks to \code{paper_title.txt} and \code{chunk.txt}, respectively.
\item Saves the embedding vectors to \code{embedding_vector.csv.gz} in compressed format.
\item Appends to existing files if they already exist in the directory.
}
}
\examples{
\dontrun{
# Example: Save embeddings to a directory
embedding_df <- data.frame(
  paper_title = c("Title 1", "Title 2"),
  chunks = c("Chunk 1", "Chunk 2"),
  embedding_vector = I(list(c(0.1, 0.2, 0.3), c(0.4, 0.5, 0.6)))
)
save_embedding(embedding_df, embedding_output_dir = "embed_output", save_dir = "example_dir")
}
}
\author{
Feifan Zhang \email{FEIFAN004@e.ntu.edu.sg}
}
\keyword{internal}
