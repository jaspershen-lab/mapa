% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/16_llm_module_utils.R
\name{gpt_api_call}
\alias{gpt_api_call}
\title{gpt_api_call: Function for calling GPT model APIs (supports OpenAI and Gemini providers)}
\usage{
gpt_api_call(
  messages,
  api_key,
  model = "gpt-4o-mini-2024-07-18",
  max_tokens = 1000,
  temperature = 0.7,
  retry_attempts = 3,
  api_provider = "openai",
  thinkingBudget = 0
)
}
\arguments{
\item{messages}{A list of messages to send to the GPT model, usually representing the conversation history.
Each message should be a list with \code{role} (e.g., "system", "user", or "assistant") and \code{content}.}

\item{api_key}{A string containing the API key required for authentication.}

\item{model}{A string specifying the GPT model to use (default is \code{"gpt-4o-mini-2024-07-18"}).}

\item{max_tokens}{An integer indicating the maximum number of tokens to generate in the response (default is \code{1000}).}

\item{temperature}{A numeric value between 0 and 1 to control the randomness of the response
(default is \code{0.7}, where lower values produce more deterministic results).}

\item{retry_attempts}{An integer specifying the maximum number of retry attempts if the API call fails (default is \code{3}).}

\item{api_provider}{A string indicating the API provider, either \code{"openai"} or \code{"gemini"} (default is \code{"openai"}).}

\item{thinkingBudget}{An integer for the "thinking budget" parameter specific to the Gemini API (default is \code{0}).}
}
\value{
The generated text from the GPT model if the call is successful. If the call fails after the specified number
of retries, the function returns \code{NULL}.
}
\description{
This internal function is designed to interact with GPT-based APIs (such as OpenAI's GPT or the Gemini API).
It handles HTTP requests, retries failed attempts, and parses responses.
This function is not intended for direct use by package users.
}
\note{
Ensure you have a valid API key and the correct endpoint for your chosen provider. For Gemini, update the URL
in the code if necessary.
}
\author{
Feifan Zhang \email{FEIFAN004@e.ntu.edu.sg}
}
\keyword{internal}
