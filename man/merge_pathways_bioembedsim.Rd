% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/11_merge_pathways_bioembedsim.R
\name{merge_pathways_bioembedsim}
\alias{merge_pathways_bioembedsim}
\title{Merge Pathways based on biotext embedding similarity}
\usage{
merge_pathways_bioembedsim(
  object,
  sim.cutoff = 0.5,
  cluster_method = c("binary cut", "girvan newman", "hierarchical"),
  hclust.method = NULL,
  save_to_local = FALSE,
  path = "result"
)
}
\arguments{
\item{object}{An object containing functional enrichment result and similarity matrix.
The object must have \code{enriched_pathway} and \code{sim_matrix} components.}

\item{sim.cutoff}{Numeric, similarity cutoff for clustering (default: 0.5).
For binary cut and hierarchical clustering, sim.cutoff is the cutoff for cutting the dendrogram.
For Girvan-Newman, sim.cutoff is the similarity cutoff for pathways. Only edges with similarity above the cutoff will be stored in the graph data.}

\item{cluster_method}{Character, method for clustering pathways. Options are:
\itemize{
\item "binary cut": Uses simplifyEnrichment binary_cut algorithm
\item "girvan newman": Uses Girvan-Newman community detection
\item "hierarchical": Uses hierarchical clustering
}}

\item{hclust.method}{Character, the agglomeration method for hierarchical clustering.
Only used when cluster_method is "hierarchical". See \code{\link[stats]{hclust}} for options.}

\item{save_to_local}{Logical, whether to save intermediate results locally (default: FALSE).}

\item{path}{Character, directory to save results when save_to_local is TRUE (default: "result").}
}
\value{
Returns the updated enriched_pathway object with functional modules added.
The object will contain a new slot "merged_module" with:
\itemize{
\item graph_data: A tidygraph object representing the network of related pathways
\item functional_module_result: Data frame with module information and annotations
\item result_with_module: Data frame with raw results assigned to modules
}
}
\description{
Identifies functional modules by clustering pathways based on their biotext embedding similarity.
This function groups related pathways into functional modules using various clustering
methods including binary cut, Girvan-Newman, or hierarchical clustering.
}
\details{
The function takes biotext embedding similarity scores between pathways
and groups related pathways into functional modules.
It supports three clustering methods:
\enumerate{
\item Binary cut: Uses the simplifyEnrichment binary_cut algorithm
\item Girvan-Newman: Community detection based on edge betweenness
\item Hierarchical clustering: Groups pathways based on distance thresholds
}

The function handles GO terms, KEGG pathways, and Reactome pathways, combining
them into unified functional modules based on similarity.
}
\examples{
\dontrun{
# Assuming 'result' is an object with enriched pathways and similarity matrix
enriched_with_modules <- merge_pathways_bioembedsim(
  object = result,
  sim.cutoff = 0.6,
  cluster_method = "binary cut"
)

# Using hierarchical clustering with complete linkage
enriched_with_modules <- merge_pathways_bioembedsim(
  object = result,
  sim.cutoff = 0.5,
  cluster_method = "hierarchical",
  hclust.method = "complete"
)

# Save results to local directory
enriched_with_modules <- merge_pathways_bioembedsim(
  object = result,
  cluster_method = "girvan newman",
  save_to_local = TRUE,
  path = "project/results"
)
}

}
