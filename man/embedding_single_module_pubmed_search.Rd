% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/16_llm_module_embedding_database.R
\name{embedding_single_module_pubmed_search}
\alias{embedding_single_module_pubmed_search}
\title{Generate Embeddings for PubMed Abstracts and Titles for a Single Module}
\usage{
embedding_single_module_pubmed_search(
  module_name,
  PID_list,
  embedding_model = "text-embedding-3-small",
  api_key,
  embedding_output_dir
)
}
\arguments{
\item{module_name}{Character string specifying the name of the module (used for
organizing output files).}

\item{PID_list}{Character vector containing PubMed IDs to process.}

\item{embedding_model}{A string specifying the embedding model to use (default is \code{"text-embedding-3-small"}).}

\item{api_key}{Character string containing the API key for the embedding service.}

\item{embedding_output_dir}{Character string specifying the base directory where
embedding results will be saved.}
}
\value{
No return value; function saves embeddings to disk in module-specific directory.
}
\description{
Retrieves abstracts and titles for a set of PubMed IDs, generates text embeddings
for each abstract, and saves the resulting data to a specified directory.
}
\details{
This function performs these steps:
\itemize{
\item Splits PubMed IDs into batches of 5 to avoid API rate limits
\item Retrieves abstracts and titles for each batch using \code{query_abstracts_and_titles_by_pubmed_ids()}
\item Generates embeddings for each abstract using parallel processing
\item Creates a data frame with paper titles, abstracts, and embedding vectors
\item Saves the results using \code{save_embedding()} in the specified directory
}

The function uses different parallel processing methods based on the operating system:
\itemize{
\item On Windows: Uses \code{parallel::parLapply()} with explicit cluster management
\item On other platforms: Uses \code{pbmclapply()} for progress-tracked parallel processing
}
}
\examples{
\dontrun{
# Process PubMed IDs for a single module
module_name <- "immune_response"
PID_list <- c("12345678", "23456789", "34567890")
api_key <- "your_openai_api_key"
embedding_output_dir <- "path/to/embeddings"
embedding_single_module_pubmed_search(module_name, PID_list, api_key, embedding_output_dir)
}

}
\seealso{
\code{\link{query_abstracts_and_titles_by_pubmed_ids}},
\code{\link{get_embedding}},
\code{\link{save_embedding}}
}
\author{
Feifan Zhang \email{FEIFAN004@e.ntu.edu.sg}
}
\keyword{internal}
