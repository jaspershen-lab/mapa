% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/17_llm_module_pathway_infor.R
\name{preprocess_module}
\alias{preprocess_module}
\title{Preprocess Module Data}
\usage{
preprocess_module(df, orgdb = org.Hs.eg.db)
}
\arguments{
\item{df}{A data frame containing the module data. The data frame must include the following columns:
\itemize{
\item \code{Description}: Pathway descriptions, separated by semicolons (\code{;}).
\item \code{geneID} or \code{mapped_id}: Gene IDs or metabolite IDs, separated by slashes (\code{/}).
\item \code{module}: Module identifiers.
\item \code{pathway_id} or \code{node}: Pathway identifiers.
}}

\item{orgdb}{An annotation database object from \code{org.Hs.eg.db} or similar packages. Defaults to \code{org.Hs.eg.db}.}
}
\value{
A named list where each element corresponds to a module. Each module contains:
\itemize{
\item \code{PathwayNames}: A character vector of pathway names.
\item \code{PathwayDescription}: A character vector of pathway descriptions.
\item \code{PathwayReferencePMID}: A character vector of PMIDs for pathway references.
\item For gene modules:
\itemize{
\item \code{GeneIDs}: A character vector of gene IDs.
\item \code{GeneSymbols}: A character vector of gene symbols (mapped from gene IDs).
\item \code{GeneNames_vec}: A character vector of gene descriptions (mapped from gene IDs).
}
\item For metabolite modules:
\itemize{
\item \code{MetIDs}: A character vector of metabolite IDs.
\item \code{MetNames_vec}: A character vector of metabolite names.
}
}
}
\description{
Processes a data frame of module data, extracts pathway names, gene symbols, and gene descriptions, and organizes the data into a structured list.
}
\details{
This function performs the following steps:
\itemize{
\item Identifies whether the input data is for genes or metabolites.
\item Splits pathway descriptions and gene/metabolite IDs into vectors for each row in the data frame.
\item Maps gene IDs to gene symbols and gene descriptions using the specified annotation database (\code{orgdb}).
\item Retrieves pathway descriptions and references based on pathway IDs.
\item Organizes the results into a named list, where each module is represented as an element containing pathway and gene/metabolite information.
}

The function handles both gene and metabolite data differently, based on the columns present in the input data frame.
}
\examples{
\dontrun{
# Example: Preprocess a data frame of module data
library(org.Hs.eg.db)
module_data <- data.frame(
  Description = c("Pathway A; Pathway B", "Pathway C"),
  geneID = c("ENSG000001;ENSG000002", "ENSG000003/ENSG000004"),
  module = c("Module1", "Module2"),
  pathway_id = c("GO:0001234;GO:0005678", "hsa04210")
)
processed_data <- preprocess_module(module_data, orgdb = org.Hs.eg.db)
print(processed_data)
}
}
\seealso{
\code{\link[AnnotationDbi]{mapIds}} for gene ID mapping.
}
\author{
Feifan Zhang \email{FEIFAN004@e.ntu.edu.sg}

Yifei Ge \email{yifeii.ge@outlook.com}
}
\keyword{internal}
